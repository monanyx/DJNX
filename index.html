<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Nyx DJ – Vinyl Deck</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="wrap">
    <!-- Only the Deck now -->
    <div class="card deck">
      <div class="top">
        <div class="legend">
          Upload a track → press Play → drag the vinyl to scratch. 
          33/45 RPM, tempo, filter, and echo included.
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <input id="file" type="file" accept="audio/*" class="btn"/>
          <button id="play" class="btn primary">▶ Play</button>
          <button id="stop" class="btn">■ Stop</button>
        </div>
      </div>

      <div class="stage">
        <div class="deckface">
          <div id="platter" class="platter">
            <div class="strobe"></div>
            <div class="label"></div>
            <div class="spindle"></div>
            <div class="readout" id="readout">00:00 / 00:00 | 33⅓ RPM</div>
          </div>
          <!-- arm is now a sibling, not inside the rotating platter -->
          <div class="arm"></div>
        </div>
      </div>

      <div class="controls">
        <div class="block">
          <label>Tempo ±8% (Playback Rate)</label>
          <input id="tempo" type="range" min="-8" max="8" value="0" step="0.1"/>
          <div class="legend"><span id="tempoVal">0.0%</span> — 
            Nudge: <button class="btn ghost" id="nudgeL">◀</button> 
            <button class="btn ghost" id="nudgeR">▶</button>
          </div>
          <div class="legend" style="margin-top:6px">
            RPM: <button class="btn ghost" id="rpm33">33⅓</button> 
            <button class="btn ghost" id="rpm45">45</button>
          </div>
        </div>
        <div class="block">
          <label>Low-pass Filter</label>
          <input id="cutoff" type="range" min="200" max="8000" value="8000" step="1"/>
          <div class="legend"><span id="cutVal">open</span></div>
          <label style="margin-top:10px;display:block">Echo (Delay Mix)</label>
          <input id="echo" type="range" min="0" max="1" value="0" step="0.01"/>
          <div class="legend"><span id="echoVal">0%</span></div>
        </div>
        <div class="block">
          <label>Cue</label>
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:6px">
            <button class="btn" id="setCue">Set Cue</button>
            <button class="btn ghost" id="goCue">Go Cue</button>
            <button class="btn ghost" id="back1">« 1s</button>
            <button class="btn ghost" id="fwd1">1s »</button>
          </div>
          <div class="legend" id="cueLbl" style="margin-top:6px">Cue: —</div>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
